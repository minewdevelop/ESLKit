package com.minew.esldemo;


import android.Manifest;
import android.app.Activity;
import android.bluetooth.BluetoothAdapter;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.os.Bundle;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.text.TextUtils;
import android.util.Log;
import android.view.View;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import com.minew.esl.tag.ble.bean.TagInfo;
import com.minew.esl.tag.ble.bean.TagModule;
import com.minew.esl.tag.ble.enums.BluetoothState;
import com.minew.esl.tag.ble.enums.ConnectionState;
import com.minew.esl.tag.ble.enums.FrameType;
import com.minew.esl.tag.ble.frames.DeviceStaticInfoFrame;
import com.minew.esl.tag.ble.interfaces.OnConnCallback;
import com.minew.esl.tag.ble.interfaces.OnConnStateListener;
import com.minew.esl.tag.ble.interfaces.OnScanTagResultListener;
import com.minew.esl.tag.ble.interfaces.OnWriteLargeDataListener;
import com.minew.esl.tag.ble.manager.MinewTagBleManager;
import com.minew.esl.tag.ble.utils.BLETool;
import com.minew.esl.tag.ble.utils.StringUtil;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

public class MainActivity extends AppCompatActivity {

    private static final int REQUEST_ENABLE_BT = 3;
    private static final int PERMISSION_COARSE_LOCATION = 2;
    RecyclerView mRecycle;
    private RecycleAdapter mAdapter;
    private MinewTagBleManager tagBleManager = MinewTagBleManager.getInstance();
    private TagModule tagModule;
    private final String willDeviceMac = "AC:23:3F:D0:13:21";
    private final String device_mac = "AC:23:3F:D0:13:79";

    //4点几寸，黑白红
    private String imageData = "020036750000000068EBD25Ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdfffffffffdfffffffefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffefffefffefffffefffefffffffefffffffffffffffffefffffefffffefffefffffefffffefffefffefffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffeffffdffbffffffdefffffff7ffffbdffffeffffffdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffefcf2ebd6951b171517152e55566b9cb1449f3a6fd5be6d577e557f56bdabbf6adfba6fddbbafba6fdeab7ed5bfb5dfbaffffffbe6bbedbbed5ffffffeebbefbffffffbffd5aad096a0cbe7fffffef7fdffffffffddf7fddffffffff7fffffffbbffffffff7fd7fffffeffbffbffff7fffefffffffffffffffffffffffffffffffffffffefffffffffdfffffffdfffffffefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffcebfee0013fdff7ffbfef7bdfffbdebbffe802d4017fdaa5675d6ad6bdab76addab7655ef5ab5ef5ab56fda75afdab5ef5ab56fdab5effafffebfdebffefffaefb6ff6ffdfffffaeaf9f3f4f8fbfdffffffef5f77bfeffdffffff7fef5ffbedfffbfeffff7fffffffffdbffffffbffbfeff7fdff7feffdffff7fdfffffffffffffdfff7fddfffffffbfffffffeffffbffffbffeeffffff77dffffb7ffffeefffffbfffefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7cb3effff95006efffeffff7fdffdffffdf7bfe802a50017fedaaad5ad5ab5ab56bdab66ddab66ddab66ddbb66ddab66ddbb66ddbb66ddab76add6add6bdeb5ef5aebbeebbef7fdffffaaaa555515aaff7ff6ffff7fdff7fffffffbbffffdffffffff7fbfffdf7feffff7fffdffdffffff7fdffdefbdff6fddbfedafdf5bdfaf9f2f5b275e5e2eae5eae275e5f2f2d2f9fcfcdefff7fdffffdffff7fdbffff7ffffbdffffeffdffbfeffbffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6debfddffbfe570da0ebffbef7ffffddfff7fdbfca2e5ab5eeb555aaaaaa5555aa5555d5aa55aad555aaaaaa6aaa55d5b5aa55aa6b5ad5aaaa6aaaaab5aa6ad6b56aabdab6d5bad7baf76dd5aa2a5455a555eaf6ddfeff77fdffffffbfffeffffb7effdffbfeffdffffbffffddfffffff77fffdef7bfeb5de2801555952d5b76ab5dab55ae5555adab55adaa5655aeb5ad5babaa552b94d56df7fddefff7ff7ffff7ffff7eeffffddffff77fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa87fdffbbfedff5f906ffbffee7fddff76dfff7dabb6aa55ad5555aaaaaa5555aa555555ad55ab6a4bbaa5adabad5a6a57aa6dab5ad75ab7aab5d6ad5bd6adda57ad6addabb6ad5bf6ad5b55aaaaaa555555aaaa2ad5a5d9ea76fadef6fffdffffffbfefffffefffffbefff7ffbeefff7bfeffdff7fd6fffb73f4b57555ad5adfb6efd57fdab7e55bb556ed5bbd6bdd77eb77defbe6bdfad2bf6adfbadffffff6fffffffffffbfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff84ffff77fd6fffff807bdffff7fdbfeffbbfffed55aaaa6d555555aaaaaa6a55ad6b56ad6bad5ab56bd6ad5bb66ddbb56ed5bb56ed5bed56bbd6bd6bd6bd6bd6bd6ad7bd6ad7bd6bdeb56f55aaaaaa555655aaabaa555555aaaaaaabaa52ee50e568eabaf5f8fafefcfefffeffffffffffdfffffdfffff7fffbffefbfffd7fbf5eaf6fd76bd3b553b455daaa5bb6d5adf5b6edbbead67a55d5aa6a957feffb7effef7dffb7feffeffbfff7fffffbfffffdffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2bfeffefbbffffff006ffffbbfeffe7fdbffff5556a9aa4abb5555abaaadb5ad6b56ed5bb66ddbb56ed5bb56ed5bb66ddbb66ddbb66db6db6ddbb66ddbb66ddbb5deb55ef5af7ab7db6db66daaadaab5ad55db56b5566d55abaaad555bd481aa100590555515a829aa815fabbe5bef5ad7b5d695aa95a857be6ffdeffdbffbffdffbffbfffeffffbff7fffff3fffbe5fbfbfbf7b9ebfbf3b7ebfffdbfffff7ffbfedffbffbfeefffbbff6ffdff6ffdffb7fdff6ffbffaefffdeffff6fffdffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff75dffff7bdffffff006eff6dffffdbfe7fffd55ebb44b5abba555555aa56b5566dd5bb56ed5bb66ddbb66ddbb66ddbb66ddbb66ddbb6db6db65bf6ad7bd6bd6bdeb5deb5ee5bedb65debddb7aa55da56aa6d55da56dab56b5ad6ad5af700551520402ab66d5bb66daa7fffdff7fffffeaf7eeb5eb5af6a95eebafbdeff77ffbdeffffb7ffffdbfffffffffffeffffef7ffbffbffeeffbbffeeffddf7fffe77fffdff7edff7ffdff77fefffbdf7ffbfedffbbff77fedffbfeb7fffed7fffd6ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff76effffddffffff00b5fff7bffff7fdbffff5abff006adfaa55556dabda55adb56d5bf6ad5bf6ad5bf6ad5bf6ad5bf6ad5bf6ad7bd66db6db6ddbb66ddbb66ddbb6dbb6dd6bddb7da77ad76aa56aad5b5ad55dab6aab56dd5ad6bda7700ad201500a2deb56adbb6aafaffffdbfffdf7def5afdab66ddab6aad59525aa8468c1f270f9d9fdfe6efbfffebfeffddfffffef7ffbdffff7bfffedffb7ffdbffddf77fffbfffbfdf7fdfffd7fff6fd6efdfbfefb7ffefdfffffdbfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff76dbffffdbffffff2a55fffb7eeffffd7fdff7ad7b95aa6ddb55555655b56daa5bb66ddbb66ddbb66ddbb66ddbb66ddbb66ddbb66ddbb6db6db66ddbb66ddbb66db6ddb6dbb66dbbd67bb6ddaaaab6aa6dab5ad6b5d6b556b5566daafd02aa2a405884b549aa54d5aaa4e955f66ada6adab56aaad55ad2aed02b4a11aa01aa0055a9522a5482952aa08ad085e8c274c1f4f0f2b0fbeef8fdfaf6fdfdfbfffbffffeffddfffbbffbf77fd7feffbff5ff7ffdfffdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffddfbbfeebffdffff11aaffffdbffffed7fffff55bb56a9b76a5555b5ad55b5ad6bdab66ddbb66ddbb66ddab66ddbb66ddbb66ddbb66ddb6db6dbb66ddbb66ddbb6dbb6ed5bf6ad76db6ddbb6aaaad5aa6a56d5b6adb56bd6adaa6adab5aaaa95a12558d12a45910aa0492045aaa4a8a1aa54a1aaa02ad491aa504a54a954a08a514a90a508a10a5084298112254397061f973fae3f7dbf7afbfef7fef7feeffe6ffddfff7fffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbff5efffb6ffff51aaffdff77dffb7feffffb76cda256ddb55555555aa6daa55b6d5b56dd5ad5bb5d6addab66ddbb66ddab76addb56bbdd57bd6ad7bd6ad7bd66ddbb66ddbb6db76ad7bd5aaaa55aaabda55adb56b54d555aaaaaa6a95aa55575a5b57afbf7fffffffffffff7fbf3f3f5f1f2f972f572f479707af03ab05ab074d8b1f363c6dbbf77defffaffefdbffdf6adfad5bb76edddf7dffab7feabffd77fdf7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdd77ffbdffffc02da7fdff6bfffffd6ffffff95ba575d6b56555555aa55ab55aa5555aa55555555ab5ad5ab6a56aab5ad6ad5ad6aad6baa6dd5aa5bd5b66ad5ad5ad5bb6ad75af76db755aaaa55aa55aa55aa5555aa556a95aaa18f5ab5d75ffffffffffffffffffffffffffffffffffffffffefffbffefffffbffdffeffae395aa55d5b565aa69ea55d455d4aa5449aa52ac495bb76fdfbf7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7fd7fc7fffff9224aaffffdffffff7fdffffffb5ff0aa946e8ba6f556bae556a5bd65aabb66d5bb66d55bb566ddaabddab5daab76ddaab5db56baeb56e55bbd6ad7bd6ad76dd6bde7ff7be6dd5aa55aa55aa55ab5254a927cc3bd6ab6fbffffffffffffffffffffffffffffffffff7fddfffbff7fdfffbffdff6bff6ff56ffb5ff6fdf7f7f7f7fbf3f5f3f9f3f9fbf3f7fbf7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9feffb6e82a8ff7fdef7fffedbfffff75dfbdf11d22e40ff5556b5aab66ddbb66ddab56bd6ad75aeb56ed5bb55bb6ad75a75d6ad7aab76addbb66ddbb66ddbb6dbadf7aefdefffffaa55aa55aa56aa5d6b5eb0d72deb5ffffffffffffffffffffffffffffddff77fef7bdaf7ed7fefbbffff7bdffdb7ffefffbfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbfaf47e9ecbaeadaeabaf56ddab555fa16c2a96a55da55b5d5aa5ab66ad5b56dd5b56dd55beaad5b6aadb56adbb6addab56ddbb56adbb66ddaab76d56ddb56fdabfeeaffb64bda12a596d4a24c8addabbf7fffffffffffffffffffffffffffffffffffffffffbf7fdfffff7fffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff3f1f1f170f1f0f974f5fafafafbf4f5faf5faf57bfafdf9f7faf5faf5fbf6f5fbf6f5fdfaf5fdf5fdf5fdfbf5f6f5fdf5fdf5fbfef9f7faf5fdfbf6fdfbfdfbfefdfbf5f2f5fbfafbfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000103070f1e3fffff070f3f7fffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff07000000000000000000000000000000000000000000000000000000000101000000000000000303010100000000000000000000000000000000000000000000000103070f3c78f1e3c79f1f7fffffffffffffffffff1f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03000000000000000000000000000000000000000000000000000000ffffff70703038183cffffffffffff7f7f3f3f1f1f1f0f0f0f0707030303070f1f1c38f1e3c79f3f7fffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003030100000000000001010101010000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000f0ffff00000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffc3010101071f7ffce0c0c0e1ffff3e000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000ffffff000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0303070707070f0f0f0f1f1f1f3f3f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000081c3c3c7c7c78f0f0f07070783c18000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff030000000000000000000000000000000000000000000000000000ffffff000000000000fcffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f1f1f1f1f1f0f0f0f0f0f0707070703030301030101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffc1800000000000008081c3ffff3e000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000080ffff0f000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000808080808080c0c0c0c0e0e0e0e0f0f8f8f8fcfcfefe7f7f3f3f1f1f070703010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080c0e0e0f0f0f0f0f0f0f0e0e0c08000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000ffffff000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000008080c0e0e0f0f0f8fcfe7f3f3f1f0f0703010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000707070707070707070707070787c7f7761000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000f0ffff00000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000003f21017f06182020310e00000000000000000000008080e0e0f0fcfeff7f3f1f0f0301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c1c1c1c1c1c1c1c1c1c3c3c3e7ffbf1e0000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000003ffffff00000000030ffffffffffcf0e0c00000fffffffffffffffffffffffffef8f0f8fdfffffffffffffefcf8f8f8f8fcfcffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000f1030ff20202010180700000000000000000000000000000000000000c0e0f8fcffff7f3f0f0f0300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f0f0f0f0f0f0f0f0f0f0f0f0f1efefc78000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000073ffef8e08000030f3ffffffffee08000000000000000ffffffffffffffffffffffff0000007cfefefefcf0c000030f3f7f7f3f0c0000c1ffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000082c242ff222242428302000000000000000000000000000000000000000000000000c0f0fcffffffff1f030000000000000000000000000000000000000000000000000000000000000000000000000000000000000307070f0e0e1f1f1f0e0e0f07030100000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000073ffffcc00000011ffffffffffff08000000000000000000000ffffffffffffffffffffffffff3f1f1f1f1f1e1e1e3e7efefefefeff3f3f1f7fffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000080808ff0808080814e300000000000000000000000000000000000000000000000000000000c0f8ffffff7f0f000000000000000000000000000000000000000000000000000000000000000000000000000000feffe781000000ffffff01030387fffe7c000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000077ffff8800000000ffffffffffff080000000000000000000000000fffffffffffffffffffffffff0e08083070f0f1f1f1f1f1f1f0f0f070380c0e0fcffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000212226ff24272442438000000000000000000000000000000000000000000000000000000000000080ffffffffff0f0000000000000000000000000000000000000000000000000000000000000000000000000000810103030303c3c3c3c38383830f0f03030301010000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000001ffffff80000000000ffffffffffff0000000000000000000000000000ffffffffffffffffffffffff070301e0f0f0f8f8f8fcfcfcf8f8f8f0e00001071fffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000f80000ff00f8080810e100000000000000000000000000000000000000000000000000000000000000ffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000fcfce4c0c0c0c0c0c0c0c0c0c0c0fcfcfcc0c0c0c00000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000ffffff000000000000ffffffffffff0000000000000000000000000000fffffffffffffffffffffffffcfcfcfc7c7c7c3c3c3c3c3c3c3c7c7cfcfcfcfcffffffffffffffffffffffffffffffffffffffffff0f0000000000000000000000000000728282ff8282828283f282820202000000000000000000000000000000000000000000000000000000ffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000003838383838383838383838383c3e3f3b38383838383838380000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000fcffff030000000080fcffffffffff03000000000000000000000000ffffffffffffffffffffffff3f3f3f3f3f3f3f3f3f3f3f3f3f3f1f0f07002030fcffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000080808ff0808080898700000000000000000000000000000000000000000000000000000000000010ffffffffffc80000000000000000000000000000000000000000000000000000000000000000000000000000e0e0e0e0e0e0e0e0e0e0e0e1e1efefcf8000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000e0fcff1f030000000080f8feffffff7f0f01000000000000000000ffffffffffffffffffffffffc1c1c1c1c1c1c1c1c1c1c1c1c1c1c1c08000060f1fffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000444444ff4444444447440000c0400000000000000000000000000000000000000000000000071ffffffffef0800000000000000000000000000000000000000000000000000000000000000000000000000000000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0000001e1e1e0c0000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00000000000000000000000000000000000000000000080f0fd3f0f0300000000c0f0fcffffff7f1f07010000000000fffffffffffffffffffffffffefefefefefefefefefefefefefefcfc78000080e1ffffffffffffffffffffffffffffffffffffffffff0000000000000000000000010100101010ff1010111030e00000000000000000000000000000000000000000000001030f3ffffffffcf8800000000000000000000000000000000000000000000000000000000000000000000000000000000000000707070707070707070707070707070706000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000080e0f8fe3f0f0701000000c0e0f8feffffff3f1f0f03ffffffffffffffffffffffff1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f3f3f3f7fffffffffffffffffffffffffffffffffffffffffffff7f00000000000000007884020182fe8080ff8c840484887e0000000000000000000000000000000001030f1f7ffffffffcf8f0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010101010183c3ff7f1f000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8000000000000000000000000000000000000000000000000000000000000000c0e0f0f83c1e0f0301000080c0e0f0f8fcfffffffffffffffffffffffff8f0c0c18387070f0f0000000f0f078783c0e0f0feffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000008000000000000000000000000000010103070f1f3f7ffffffefcf8e0c080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010103030100c0c0c1c1c0c0c0c0c0c1c1c1c1c1c08000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0000000000000000000000000000000000000000000000000000000000000000000000000000000c0ffff7f000000000000ffffffffffffffffffffffff030000f8ffffffffff000000fcfcf8f8f00001030fffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000101030307070f0f1f3f3ffffefcfcf8f0e0c080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffe0c080c0c07ffff0c0c0ee7ffbe0c0c0c0c0e0ff7f1f000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffff000000000000ffffffffffffffffffffffffff7ffffefefefefefe7e7e7e7e7e7e7efef0f0f0fefefefefeffffffffffffffffffffffffffffffffffff0f0f0f0f1f1f1f1f3f3f3f7f7f7fff7ffefefcfcf8f0f0e0c0c080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0f078381c3cfcf8f00000000080c0e0e0f0f0e0e0fcfcfc000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffff070301030301f1f9f9f9f8f8fcfcfcfcfcfe8000000f1f1f1f1f1f1f1f1f1f1f1f1f1f0000001f1f1f1f1f1fffffffffffffffffffffffffffffffffffffffffffffffffffe0e0c0c0c08000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808080c0c0c0c0c0e0e0ffffff1f000000000070f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0ffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f0ffffff000000000080ffffffffffffffffffffff7f3f1f0080e0f8ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffff00000000000087878787878787878787878706060c0c1e77e7e3c18080c0e0e0f0f8fcfeffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffff070f0e000020e0e0e0e0e0e0c0c08080800000000000000080c0e0e0602000000f0703010080c0c0e0f0f8fcfeffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0808000000000000000000000000000000000000000000000000000000000000000000080c0c0e078381c1e0f070303ffffffe0e0f8f8fcfe00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080c0e0f0f800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8c00000000000000000000000000000000000000000000000000000000000000000000000010000000100000000000000000100000100000100010000010000010001000100000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000010000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0000000000000000000000000000000000000000000000004100900240048008801a008844002290045102a41922881aa00a94214409520451022441045902154012a404a200500000041144124412a00000011441040000004000a54250909240800000008020000000000080000000000000000000000000000000000000000000040000800010000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000110010852800008000000842000000440002a02ba400055a98a295294254895225489aa10a54a10a54a90258a50254a10a54a90254a10050001402140010005104900900200000511060c0b0504020000001020880000000000008010800010000400000000000000000000000000000000000000000020000000000000000000000000002000000000000000000000000000000000000080000000000010000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000080000000022a9010000000000200200000084004a94ab9480025552a52854a54a9425499225499225499224499225499224499224099225489522952294214a10a114411441080200005455aaaa485500000000000020080000000000000200000000800000008000000000000020000000000001002000000000200002000104090040021008010801080002000421000100000000000000000000000000000000000000000000401004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000008010020000010860160000400800000000080240209184421148aa5554558aaa55a8aa2a55aa512aaa5555549555aa2a4a54aa5594a52a55559555554a5595294a955425492a45284508922a15d1aa8a52aa150802010000000000000000000000800020040100000000000020000000000000010800000000042a0268822489442210aa01288a42102a02518922510842241045280422088200000100000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000042002000001200802a8000000080220001200080144901aa52a88a555554aaaa55aa2a8a52aa5495b44552525452a495a8559254a528a548554a2952a4295225a8529522544952a40952a4aa555544aaaaaa5555952a5224150901010900000000000000000010000000000000401000040100000000100008802480aa200a52009002a8025401aa4422902a4429422801488200419420425400120440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000011000000009000000a80200000000010044000002a500592a8aaaa55555585aa5294a9529452a54a942952a44992244a912a44a912a412a944294294294294294295284295284294214a90aa555455aaa9aa555455aaaaaa5554551455ad102b128415010005000002000001000000000000000020000000004001000002000080409020042802a842882544a401285202491240142905822855804a00000080000000004800000000000800000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000044000000419000000010008024000000a94411b544aaaa1445524a5294a912a44992244a912a44a912a44912044992244992492492244992244992244a214aa10a508548249249925552554a52aa24a94aa992aa545552aaa42956114452042288421582544a2010412410852008214a1062050041100000020000002000000000100004008000008000412040004084404000c40140002000000000401000000000000000009000000000000802000000004000000000080002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000008420000000001009000000400800002a144100a5441aaaaaa14a94aa9922a44a912a449922449922449922449822449922449249249a4095284294294214a214a11a41249a214224855aa25a95592aa25a9254a94a52952a50855aa409a008541902449921180002008000001500114a14a00114a11000400000000420000000000004000000000001000000000000400000000000000200800000000020080000000200800000000000000000004008001000000000000000002800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000100000220000000a00000040000800000002540012952055a2a8925425aa524a92a40952a40952a40952a40952a40952a4095284219249249224499224499224492449229422482588528955a9552a4a52aa2549554a922a529425885552894a0008214a1124491005000024000208210250240992210845284a900451020a0084000200001100000000000020000000000020000000001000000000002008000040000000800000200008000000040000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000240000009000000481100002000000528402519224aaaaa9aa4a8251a449922449922449922449922449922449922449922449249249922449922449924922492449924429844922555549559254a5294a294aa94aa992550269540590252008a4118228441314a209912495014a95402a8429412a84b1444454014822148984225920441650062802148124010a000a000002000401000200000000001002000000004000008000000080000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000004000040020000a404000000000012000000884421124895a8aa4a52aa4a50942549922449922449922449922449922449922449922492492449922449922449244912a40952892492244955552a5595a92a49524a9429525595244a55452a5c12242445104421482495284109520c50015a005680294611a610a304a20d5024254812e40a508450825085408c002940084011800040850000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000490000a4000020080200400000004802219a9224a2a8aaaa559255aa492a4a922a52a44a2952254992244992254895224a94422a8429528429528429922449922449248952842a5555aa555425aa524a94aa22aa555555944a51aaa88524a80040000000000000000040008000408008c008401048b0006804d0104012248000421044008200004001020002015205284489102208000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000004200002c924000001400000210000004804a0a294a9aa2a8a55aa54aa45aaaa55aaaaa2aa54a52a5495a9554a52952a5295529455922a55a42a49952a52a52a449528a5089248a85555aa55aa55aa45a8aa55aa944a515e50a14a28200000000000000000000000000000000000000000000400000000400000100004481522284a904594118822a8025189a2148952a42040900000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000002002000000499251000000000008000000004800a416b1044190aa9451aa95a429a5544992a44992aa44a99225542254a25548922554a24a94514a91aa44295284295289229421800841922855aa14aa55a254ada916c832c421149040000000000000000000000000000000000000000040080000000000000008000000020000200080800000400080200000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000020000001280200802100000024000000800420c22c811400aaa14a554992244992254a9429528a514a912a44aa449528a58a2952855489522449922449922449245208510210000055a255a8558955a294214b08d214a000000000000000000000000000020000000080240010000000000000200200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000004000900010040024000400920002a800892012948825aa482a55a549912a4a922a4a902aa41552a494524a95244952254892244a952449922554892a9224a9025401150049b425c5084922498255201440800000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000400000400020000800804010004020a010804080405000600050a040a04010a04080a02040a0208020a020402090a000a0202040104080508020409020400040102040205080004040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    private EditText etMac;
    private TextView tvBruchImg;
    private String mMac;
    private List<TagInfo> mlist = new ArrayList<>();
    private boolean startBrach = false;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        mRecycle = findViewById(R.id.recycle);
        etMac = findViewById(R.id.et_mac);
        tvBruchImg = findViewById(R.id.tv_bruch_img);

        if (!ensureBleExists()) {
            finish();
        }
        if (!BLETool.checkBluetooth(this).equals(BluetoothState.BLUETOOTH_ON)) {
            showBLEDialog();
        } else {
            getRequiredPermissions();
        }
        initView();

        initListener();
    }

    private boolean ensureBleExists() {
        if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)) {
            Toast.makeText(this, "Phone does not support BLE", Toast.LENGTH_LONG).show();
            return false;
        }
        return true;
    }

    private void showBLEDialog() {
        final Intent enableIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
        startActivityForResult(enableIntent, REQUEST_ENABLE_BT);
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == REQUEST_ENABLE_BT) {
            if (resultCode == Activity.RESULT_OK) {
                getRequiredPermissions();
            } else {
                finish();
            }
        }
    }

    private void initView() {
        mRecycle.setLayoutManager(new LinearLayoutManager(this));
        mAdapter = new RecycleAdapter();
        mRecycle.setAdapter(mAdapter);
        mRecycle.addItemDecoration(new RecycleViewDivider(this, LinearLayoutManager
                .HORIZONTAL));
    }

    private void initListener() {
        tvBruchImg.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                mMac = etMac.getText().toString().trim();
                if (TextUtils.isEmpty(mMac)) {
                    Toast.makeText(MainActivity.this, "mac not correct", Toast.LENGTH_SHORT).show();
                    return;
                }

                for (TagInfo tagInfo : mlist) {
                    String address = tagInfo.getAddress().toLowerCase();
                    if (address.equalsIgnoreCase(mMac) || address.replace(":","").equalsIgnoreCase(mMac)) {
                        HashMap<FrameType, String> frameRecordMap = tagInfo.getFrameRecordMap();
                        if (frameRecordMap != null) {
                            String dsiString = frameRecordMap.get(FrameType.DEVICE_STATIC_INFO_FRAME);
                            if (dsiString == null) {
                                Toast.makeText(MainActivity.this, "未获取到静态信息帧", Toast.LENGTH_SHORT).show();
                                return;
                            }
                            tagBleManager.stopScan(MainActivity.this);
                            tagModule = tagBleManager.setEaxKeyByAddress(tagInfo, "3141592653589793");
                            tagBleManager.connect(MainActivity.this, tagModule);
                            return;
                        }
                    }
                }
                Toast.makeText(MainActivity.this, "have not this mac", Toast.LENGTH_SHORT).show();
            }
        });

        tagBleManager.setOnConnStateListener((mac, connectionState) -> {
            switch (connectionState) {
                case Connecting:
                    Toast.makeText(MainActivity.this, "Connecting", Toast.LENGTH_SHORT).show();
                    break;
                case Connected:
                    Toast.makeText(MainActivity.this, "Connected", Toast.LENGTH_SHORT).show();
                    break;
                case Connect_Complete:
                    Toast.makeText(MainActivity.this, "Connect_Complete, start send image!", Toast.LENGTH_SHORT).show();
                    sendImageData();
                    break;
                case CONNECT_EXCEPTION:
                    Log.e("tetetetete", "CONNECT_EXCEPTION");
                    Toast.makeText(MainActivity.this, "CONNECT_EXCEPTION", Toast.LENGTH_SHORT).show();
                    break;
                case BRUSH_IMAGE:
                    tagBleManager.disConnect(tagModule.getMacAddress());
                    Log.e("tetetetete", "BRUSH_IMAGE Disconnect");
                    Toast.makeText(MainActivity.this, "BRUSH_IMAGE", Toast.LENGTH_SHORT).show();
                    break;
                case Disconnect:
                    Toast.makeText(MainActivity.this, "Disconnect，重新开始扫描", Toast.LENGTH_SHORT).show();
                    Log.e("tetetetete", "Disconnect 重新开始扫描");
                    startScan();
                    break;
                default:
                    break;
            }
        });

    }

    private void sendImageData() {
        DeviceStaticInfoFrame frame = (DeviceStaticInfoFrame) tagModule.getMinewFrame(FrameType.DEVICE_STATIC_INFO_FRAME);
        String screenInfo = frame.getScreenInfo();
        Log.e("tetetetete", "screenInfo is : " + screenInfo);
        AppExecutors.getInstance().getDiskIO().execute(() -> {
            byte[] bytes = StringUtil.hexToByteArray(imageData);
            tagBleManager.sendImageData(tagModule.getMacAddress(), bytes, new OnWriteLargeDataListener() {
                @Override
                public void onWriteUpdate(int index, int total) {
                    Log.e("tetetetete", "sendImageData " + index + " " + total);
                }

                @Override
                public void onWriteSuccess() {
                    Log.e("tetetetete", "sendImageData success");
                }

                @Override
                public void onWriteFailed(int i) {
                    Log.e("tetetetete", "sendImageData Failed");
                }
            });
        });
    }

    @Override
    public void onRequestPermissionsResult(int code, String permissions[], int[] grantResults) {
        if (code == PERMISSION_COARSE_LOCATION) {
            if (grantResults.length > 0
                    && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                startScan();
            } else {
                finish();
            }
        }
    }

    private void getRequiredPermissions() {
        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)
                != PackageManager.PERMISSION_GRANTED) {
            ActivityCompat.requestPermissions(this,
                    new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_COARSE_LOCATION);
        } else {
            startScan();
        }
    }

    private void startScan() {
        tagBleManager.startScan(this, 60000, new OnScanTagResultListener() {
            @Override
            public void onScanTagResult(List<TagInfo> list) {
                mAdapter.setData(list);
                mlist = list;
                Log.e("data", "数量：" + mlist.size());
//                for (TagInfo tagInfo : list) {
//                    if (tagInfo.getAddress().equals(device_mac)) {
//                        HashMap<FrameType, String> frameRecordMap = tagInfo.getFrameRecordMap();
//                        if (frameRecordMap != null) {
//                            String dsiString = frameRecordMap.get(FrameType.DEVICE_STATIC_INFO_FRAME);
//                            if (dsiString == null) {
//                                Toast.makeText(MainActivity.this, "未获取到静态信息帧", Toast.LENGTH_SHORT).show();
//                                return;
//                            }
//                            tagBleManager.stopScan(MainActivity.this);
//                            tagModule = tagBleManager.setEaxKeyByAddress(tagInfo, "3141592653589793");
//                            tagBleManager.connect(MainActivity.this, tagModule);
//                        }
//                    }
//                }
            }

            @Override
            public void onStopScan(List<TagInfo> list) {

            }
        });
    }
}
